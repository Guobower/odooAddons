<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

<!-- Layout and common templates -->
<template id="sss" name="omniaShop assets" inherit_id="website.assets_frontend">
    <xpath expr="." position="inside">
        <script type="text/javascript" src="/omnia_website/static/src/js/website_sale_omnia.js"></script>
    </xpath>
</template>


<!--
<template id="cart" name="Shopping Cart">
	<xpath expr="//ul[@class='wizard pull-right']" position="inside">
    	<li class="text-muted">Products Registering<span class="chevron"></span></li>
    </xpath>
    <xpath expr="//t-if[@class='btn btn-primary pull-right mb32']" position="replace">
    	<a t-if="not optional_products and website_sale_order and website_sale_order.website_order_line" class="btn btn-primary pull-right mb32" href="/shop/register">Register Activation <span class="fa fa-long-arrow-right"/></a>
	</xpath>
</template>
-->

<template id="cart_extend" name="Shopping Cart" inherit_id="website_sale.cart">	
	<xpath expr="//ul[@class='wizard pull-right']" position="replace">
    	  <ul class="wizard pull-right">
              <li class="text-primary">Review Order<span class="chevron"></span></li>
              <li class="text-muted">Products Registering<span class="chevron"></span></li>
              <li class="text-muted">Shipping &amp; Billing<span class="chevron"></span></li>
              <li class="text-muted">Payment<span class="chevron"></span></li>
              <li class="text-muted">Confirmation<span class="chevron"></span></li>
          </ul>
    </xpath>
	<xpath expr="//a[@class='btn btn-primary pull-right mb32']" position="replace">
		<a t-if="not optional_products and website_sale_order and website_sale_order.website_order_line" class="btn btn-primary pull-right mb32" href="/shop/register">Register Activation <span class="fa fa-long-arrow-right"/></a>
    </xpath>
</template>
	
<template id="register">
  <t t-call="website.layout">
    <t t-set="additional_title">Shop - Register</t>
    <div id="wrap">
      <div class="container oe_website_registration">
          <ul class="wizard pull-right">
              <li><a href="/shop/cart" class="text-success">Review Order<span class="chevron"></span></a></li>
              <li class="text-primary">Product Registering<span class="chevron"></span></li>
              <li class="text-muted">Shipping &amp; Billing<span class="chevron"></span></li>
              <li class="text-muted">Payment<span class="chevron"></span></li>
              <li class="text-muted">Confirmation<span class="chevron"></span></li>
          </ul>
          <h1>Products Registering</h1>
          
          <form action="/shop/confirm_order" method="post">

          <div class="row">
          <div class="col-md-8 oe_cart">
              <t t-set="website_sale_order" t-value="website.sale_get_order()"/>
              <div t-if="not website_sale_order or not website_sale_order.website_order_line" class="well well-lg">
                  Your cart is empty!
              </div>

              <table class='table table-striped table-condensed' id="cart_products" t-if="website_sale_order and website_sale_order.website_order_line">
                  <thead>
                      <tr>
                          <th width="100">Sequence </th>
                          <th width="100">Service ID</th>
                          <th width="200">Node ID</th>
                      </tr>
                  </thead>
                  <tbody>
                    <t t-foreach="website_sale_order.website_order_line" t-as="line">
	                    <t t-foreach="line.activated" t-as="orderline">
							<tr>
								<td align="center" t-if="orderline">
									<div>
										<a  t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
											<strong t-esc="line.product_id.name_get()[0][1]"/>
										</a>
									</div>
									<div class="text-muted" t-field="orderline.sequence"/>
								</td>
								<td t-if="orderline">
									<input type="text" class="js_quantityy form-control" id="serviceID"
										t-att-data-line-id="orderline.id" 
										t-att-value="orderline.service_id"/>
								</td>
								<td t-if="orderline">
									<input type="text" class="js_quantityy form-control" id="nodeID"
										t-att-data-line-id="orderline.id" 
										t-att-value="orderline.node_id"/>
								</td>
							</tr>
	                    </t>
                    </t>
                  </tbody>
              </table>

              <div class="clearfix">
                <a href="/shop/cart" class="btn btn-default mb32"><span class="fa fa-long-arrow-left"/> Return to Cart</a>
                <a href="/shop/checkout" class="btn btn-default btn-primary pull-right mb32 a-submit">Process Checkout <span class="fa fa-long-arrow-right"/></a>
              </div>
          </div>
          <div class="col-lg-offset-1 col-lg-3 col-md-3 text-muted">
              <h3 class="page-header mt16">Your Order <small><a href="/shop/cart"><span class="fa fa-arrow-right"/> change</a></small></h3>
              <t t-set="website_sale_order" t-value="website.sale_get_order()"/>
              <div class="row">
                  <div class="col-sm-6 text-right">Subtotal: </div>
                  <div class="col-sm-6"><span style="white-space: nowrap;" t-field="website_sale_order.amount_untaxed" t-field-options='{
                      "widget": "monetary",
                      "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                  }'/></div>
                  <div class="col-sm-6 text-right">Taxes: </div>
                  <div class="col-sm-6"><span style="white-space: nowrap;" t-field="website_sale_order.amount_tax" t-field-options='{
                      "widget": "monetary",
                      "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                  }'/></div>
                  <div class="col-sm-6 text-right"><h4>Total To Pay: </h4></div>
                  <div class="col-sm-6"><h4><span style="white-space: nowrap;" t-field="website_sale_order.amount_total" t-field-options='{
                      "widget": "monetary",
                      "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                  }'/></h4></div>
              </div>
          </div>
      </div>
      </form>
    </div>
    </div>
  </t>
</template>


<template id="checkout_extend" inherit_id="website_sale.checkout">
	<xpath expr="//ul[@class='wizard pull-right']" position="replace">
          <ul class="wizard pull-right">
              <li><a href="/shop/cart" class="text-success">Review Order<span class="chevron"></span></a></li>
              <li><a href="/shop/register" class="text-success">Products Registering<span class="chevron"></span></a></li>
              <li class="text-primary">Shipping &amp; Billing<span class="chevron"></span></li>
              <li class="text-muted">Payment<span class="chevron"></span></li>
              <li class="text-muted">Confirmation<span class="chevron"></span></li>
          </ul>
    </xpath>
	<xpath expr="//label[@for='zip']" position="replace">
    	<label class="control-label" for="zip">Zip / Postal Code</label>
    </xpath>
    
	<xpath expr="//option[@value='-1']" position="replace">
    	<option value="-1">-- Create a new address --</option>
    </xpath>
    
	<xpath expr="//label[@for='shipping_zip']" position="replace">
    	<label class="control-label" for="shipping_zip">Zip / Postal Code</label>
    </xpath>
    <!--
	<xpath expr="//select[@class='form-control']" position="replace">
          <select name="shipping_country_id" class="form-control" t-att-readonly="  'readonly' if shipping_id &gt;= 0 else ''">
              <option value="">Country...</option>
              <t t-foreach="countries or []" t-as="country">
                  <option t-att-value="country.id" t-att-selected="country.id == checkout.get('shipping_country_id')"><t t-esc="country.name"/></option>
              </t>
          </select>
    </xpath>
    -->
	<xpath expr="//a[@class='btn btn-default mb32']" position="replace">
                <a href="/shop/register" class="btn btn-default mb32"><span class="fa fa-long-arrow-left"/> Return to Registering</a>
    </xpath>
</template>

<template id="payment_extend" inherit_id="website_sale.payment">
	<xpath expr="//ul[@class='wizard pull-right']" position="replace">
          <ul class="wizard pull-right">
              <li><a href="/shop/cart" class="text-success">Review Order<span class="chevron"></span></a></li>
              <li><a href="/shop/register" class="text-success">Products Registering<span class="chevron"></span></a></li>
              <li><a href="/shop/checkout" class="text-success">Shipping &amp; Billing<span class="chevron"></span></a></li>
              <li class="text-primary">Payment<span class="chevron"></span></li>
              <li class="text-muted">Confirmation<span class="chevron"></span></li>
          </ul>
    </xpath>
</template>

<template id="confirmation_extend" inherit_id="website_sale.confirmation">
	<xpath expr="//ul[@class='wizard pull-right']" position="replace">
          <ul class="wizard pull-right">
              <li class="text-muted">Review Order<span class="chevron"></span></li>
              <li class="text-muted">Product Registering<span class="chevron"></span></li>
              <li class="text-muted">Shipping &amp; Billing<span class="chevron"></span></li>
              <li class="text-muted">Payment<span class="chevron"></span></li>
              <li class="text-primary">Confirmation<span class="chevron"></span></li>
          </ul>
    </xpath>
</template>

	
</data>
</openerp>