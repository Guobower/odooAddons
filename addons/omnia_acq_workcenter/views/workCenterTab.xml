<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="acq_view_workcenter_tab" model="ir.ui.view">
            <field name="name">acq.mrp.workcenter.form</field>
            <field name="model">mrp.workcenter</field>
            <field name="priority">5</field>
            <field name="inherit_id" ref="mrp.mrp_workcenter_view"/>
            <field name="arch" type="xml">
                <page string="General Information" position="after">
                    <page string="Acquacontrol">
                    	<group>
                    		<field name="workcenter_type"/>
                    		<field name="dosanat_row" widget="one2many_list" attrs="{'invisible':[('workcenter_type','!=','dosanat')]}">
                    		<tree string="Righe dosanat" editable="bottom">
                    			<field name="name"/>
			                	<field name="pos"/>
			                	<field name="prod"/>
			                	<field name="field1"/>
			                	<field name="field2"/>
			                	<field name="fieldn"/>
							</tree>
                    		</field>
                    		<field name = "locationRel"/>
                    	</group>
                    </page>
                </page>
            </field>
        </record>
        
        <!--<record id="acq_dosanat_row_form_view" model="ir.ui.view">
            <field name="name">acq.dosanat.row.form</field>
            <field name="model">acq.dosanat.row</field>
            <field name="arch" type="xml">
                <form string="Dosanat">
                	<sheet>
                	<group>
                	<field name="pos"/>
                	<field name="prod"/>
                	<field name="field1"/>
                	<field name="field2"/>
                	<field name="fieldn"/>
                	</group>
                	</sheet>
                </form>
            </field>
        </record>-->
        
        <record id="view_omnia_acq_workcenter_filter" model="ir.ui.view">
            <field name="name">mrp.workcenter.filter</field>
            <field name="model">mrp.workcenter</field>
            <field name="arch" type="xml">
                <search string="Search enabled workcenters">
                    <filter name="workcenter_type_acq" string="WCenterType" domain="[('workcenter_type','!=',False)]"/>
                    <separator/>
                    <filter string="My Entries" domain="[('user_id','=',uid)]"/>
                    <group string="Group By" expand="0">
                        <filter string="Workcenter group" context="{'group_by':'workcenter_type'}"/>
                    </group>
                </search>
            </field>
        </record>
        
		<record id="omnia_acq_wc_act" model="ir.actions.act_window">
		    <field name="name">Workcenter</field>
		    <field name="type">ir.actions.act_window</field>
		    <field name="res_model">mrp.workcenter</field>
		    <field name="view_type">form</field>
		    <field name="view_mode">tree,form</field>
		    <field name="context">{"search_default_workcenter_type_acq":1}</field>
		    <field name="view_id" ref="omnia_acq_workcenter.acq_view_workcenter_tab"/>
		</record>
		
        <menuitem name="Work Centers"
        	action="omnia_acq_workcenter.omnia_acq_wc_act"
            id="acq_configurations_submenu"
            parent="omnia_acq_workcenter.acq_configurations_menu"/>
    </data>
</openerp>